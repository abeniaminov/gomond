# gomond - демон "Системный мониторинг"

## Общее описание
Демон - программа, собирающая информацию о системе, на которой запущена,
и отправляющая её своим клиентам по GRPC.

## Архитектура
- GRPC сервер;
- допускается использование временных (`/tmp`) файлов;
- статистика хранится в памяти, долговременное хранение не предусмотрено.

## Требования
Необходимо каждые **N** секунд выдавать информацию, усредненную за последние **M** секунд.

Например, N = 5с, а M = 15с, тогда демон "молчит" первые 15 секунд,
затем выдает снапшот за 0-15с; через 5с (в 20с) выдает снапшот за 5-20с;
через 5с (в 25с) выдает снапшот за 10-25с и т.д.

**N** и **M** указывает клиент в запросе на получение статистики.

Что необходимо собирать:
- Средняя загрузка системы (load average).

- Средняя загрузка CPU (%user_mode, %system_mode, %idle).

- Загрузка дисков:
    - tps (transfers per second);
    - KB/s (kilobytes (read+write) per second);

- Информация о дисках по каждой файловой системе:
    - использовано мегабайт, % от доступного количества;
    - использовано inode, % от доступного количества.

- Top talkers по сети:
    - по протоколам: protocol (TCP, UDP, ICMP, etc), bytes, % от sum(bytes) за последние **M**), сортируем по убыванию процента;
    - по трафику: source ip:port, destination ip:port, protocol, bytes per second (bps), сортируем по убыванию bps.

- Статистика по сетевым соединениям:
    - слушающие TCP & UDP сокеты: command, pid, user, protocol, port;
    - количество TCP соединений, находящихся в разных состояниях (ESTAB, FIN_WAIT, SYN_RCV и пр.).